@model IEnumerable<Servicely.Models.Document>

@{
    ViewBag.Title = @Servicely.Languages.Language.Index;
    if (Session["Layout"] != null)
        Layout = Session["Layout"].ToString(); 
    else
     Layout = "~/Views/Shared/_Layout.cshtml"; 
}
AIzaSyABkBvYKcSLDEANJiHN251dhynSuxT0KhU
<script>
    $(function () {



            var seesion;
        $.ajax({
            url: "/Addresses/Sessionvalue",
            data: "",
            async:false,
            success: function (res) {

                seesion = res;

            }
        });
        if (seesion == "ar-EG") {



              $("#NId").change(function () {

            var ttid = $("#NId").val();

            $.ajax({
                url: "/DocumentGeneral/GetAllDocumentsByCitizenId",
                data: { tid: ttid },
                success: function (res) {
                    $(".tt").empty();
                    $.each(res, function (i, row) {

                        $("#tb1").append("<tr class='tt'><td> " + row.citizen_first_name_arabic + " " + row.citizen_second_name_arabic + " " + row.citizen_third_name_arabic + " " + row.citizen_fourth_name_arabic + " </td><td> " + row.document_type_name_arabic + " </td><td>"+    row.document_date_upload + "</td><td> <a href='/DocumentGeneral/Download?id=" + row.document_id + "'> @Servicely.Languages.Language.Download <li class='fa fa-download' style='color: #20c997;'></li> </a> </td>    <td> " + row.document_extensions + " </td> <td> <a href='/Document/Delete/" + row.document_id + "'>@Servicely.Languages.Language.Delete</a> </td></tr>");
                    });
                }


            });




        });
        }
        else {
            $("#NId").change(function () {

            var ttid = $("#NId").val();

            $.ajax({
                url: "/DocumentGeneral/GetAllDocumentsByCitizenId",
                data: { tid: ttid },
                success: function (res) {
                    $(".tt").empty();
                    $.each(res, function (i, row) {

                        $("#tb1").append("<tr class='tt'><td> " + row.citizen_first_name + " " + row.citizen_second_name + " " + row.citizen_third_name + " " + row.citizen_fourth_name + " </td><td> " + row.document_type_name + " </td><td>"+    row.document_date_upload + "</td><td> <a href='/DocumentGeneral/Download?id=" + row.document_id + "'> @Servicely.Languages.Language.Download <li class='fa fa-download' style='color: #20c997;'></li> </a> </td>    <td> " + row.document_extensions + " </td><td><a href='/DocumentGeneral/Delete/" + row.document_id + "'>@Servicely.Languages.Language.Delete</a></td></tr>");
                    });
                }


            });




        });

        }


        //$.ajax({
        //    url: "/Document/GetAllDocument",
        //    data: "",
        //    success: function (res) {

        //        $.each(res, function (i, row) {

        //            $("#tb1").append("<tr class='tt'><td> " + row.citizen_national_id + " </td><td> " + row.document_type_name + " </td><td> " + row.document_name + " </td>  <td> " + row.document_extensions + " </td><td> " + row.document_data + " </td>  <td><a href='/Document/Edit/" + row.document_id + "'>Edit</a> | <a href='/Document/Delete/" + row.document_id + "'>Delete</a>   </td></tr>");
        //        });
        //    }


        //});

         $('#NId').select2();



    });

</script>
<div class="container-fluid">
    <h2>@Servicely.Languages.Language.Index</h2>

    <p>
        @Html.ActionLink(@Servicely.Languages.Language.Create_New, "Create")
    </p>
    <div class="col-md-3">
        @Html.DropDownList("NId", null, "", new { @class = "form-control", data_live_search = "true", required = "required" })
    </div>

    <div class="col-md-12 mt-4">
        <table class="table table-hover" id="tb1">
            <tr>
                <th class="font-weight-bold">
                    @Servicely.Languages.Language.CitizenName
                </th>
                <th class="font-weight-bold">
                    @Servicely.Languages.Language.DocumentType
                </th>

                <th class="font-weight-bold">
                    @Servicely.Languages.Language.UploadDate
                </th>
                <th class="font-weight-bold">
                    @Servicely.Languages.Language.DocumentFile
                </th>

                <th class="font-weight-bold">
                    @Servicely.Languages.Language.document_extensions
                </th>

                <th> </th>
            </tr>


        </table>
    </div>
</div>

